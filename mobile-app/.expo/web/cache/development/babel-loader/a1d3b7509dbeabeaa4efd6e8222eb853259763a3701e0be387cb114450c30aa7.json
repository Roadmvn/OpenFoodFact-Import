{"ast":null,"code":"import _asyncToGenerator from \"@babel/runtime/helpers/asyncToGenerator\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nvar _jsxFileName = \"/home/roadmvn/devops/Devops_starter/mobile-app/src/screens/auth/LoginScreen.js\";\nimport React, { useState } from 'react';\nimport View from \"react-native-web/dist/exports/View\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport TextInput from \"react-native-web/dist/exports/TextInput\";\nimport TouchableOpacity from \"react-native-web/dist/exports/TouchableOpacity\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport Alert from \"react-native-web/dist/exports/Alert\";\nimport KeyboardAvoidingView from \"react-native-web/dist/exports/KeyboardAvoidingView\";\nimport Platform from \"react-native-web/dist/exports/Platform\";\nimport { useAuth } from \"../../contexts/AuthContext\";\nexport default function LoginScreen(_ref) {\n  var navigation = _ref.navigation;\n  var _useState = useState(''),\n    _useState2 = _slicedToArray(_useState, 2),\n    email = _useState2[0],\n    setEmail = _useState2[1];\n  var _useState3 = useState(''),\n    _useState4 = _slicedToArray(_useState3, 2),\n    password = _useState4[0],\n    setPassword = _useState4[1];\n  var _useState5 = useState(false),\n    _useState6 = _slicedToArray(_useState5, 2),\n    loading = _useState6[0],\n    setLoading = _useState6[1];\n  var _useAuth = useAuth(),\n    login = _useAuth.login;\n  var handleLogin = function () {\n    var _ref2 = _asyncToGenerator(function* () {\n      if (!email || !password) {\n        Alert.alert('Erreur', 'Veuillez remplir tous les champs');\n        return;\n      }\n      try {\n        setLoading(true);\n        yield login(email, password);\n      } catch (error) {\n        var _error$response, _error$response$data;\n        Alert.alert('Erreur de connexion', ((_error$response = error.response) == null ? void 0 : (_error$response$data = _error$response.data) == null ? void 0 : _error$response$data.message) || 'Une erreur est survenue');\n      } finally {\n        setLoading(false);\n      }\n    });\n    return function handleLogin() {\n      return _ref2.apply(this, arguments);\n    };\n  }();\n  return React.createElement(KeyboardAvoidingView, {\n    behavior: Platform.OS === 'ios' ? 'padding' : 'height',\n    style: styles.container,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 40,\n      columnNumber: 5\n    }\n  }, React.createElement(View, {\n    style: styles.formContainer,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 7\n    }\n  }, React.createElement(Text, {\n    style: styles.title,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 9\n    }\n  }, \"Connexion\"), React.createElement(TextInput, {\n    style: styles.input,\n    placeholder: \"Email\",\n    value: email,\n    onChangeText: setEmail,\n    keyboardType: \"email-address\",\n    autoCapitalize: \"none\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 9\n    }\n  }), React.createElement(TextInput, {\n    style: styles.input,\n    placeholder: \"Mot de passe\",\n    value: password,\n    onChangeText: setPassword,\n    secureTextEntry: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 9\n    }\n  }), React.createElement(TouchableOpacity, {\n    style: styles.button,\n    onPress: handleLogin,\n    disabled: loading,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 9\n    }\n  }, React.createElement(Text, {\n    style: styles.buttonText,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 11\n    }\n  }, loading ? 'Connexion...' : 'Se connecter')), React.createElement(TouchableOpacity, {\n    style: styles.linkButton,\n    onPress: function onPress() {\n      return navigation.navigate('Register');\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 9\n    }\n  }, React.createElement(Text, {\n    style: styles.linkText,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 11\n    }\n  }, \"Pas encore de compte ? S'inscrire\"))));\n}\nvar styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    backgroundColor: '#fff'\n  },\n  formContainer: {\n    flex: 1,\n    justifyContent: 'center',\n    paddingHorizontal: 20\n  },\n  title: {\n    fontSize: 24,\n    fontWeight: 'bold',\n    marginBottom: 30,\n    textAlign: 'center'\n  },\n  input: {\n    backgroundColor: '#f5f5f5',\n    padding: 15,\n    borderRadius: 10,\n    marginBottom: 15\n  },\n  button: {\n    backgroundColor: '#10B981',\n    padding: 15,\n    borderRadius: 10,\n    alignItems: 'center'\n  },\n  buttonText: {\n    color: '#fff',\n    fontSize: 16,\n    fontWeight: 'bold'\n  },\n  linkButton: {\n    marginTop: 15,\n    alignItems: 'center'\n  },\n  linkText: {\n    color: '#10B981',\n    fontSize: 14\n  }\n});","map":{"version":3,"names":["React","useState","View","Text","TextInput","TouchableOpacity","StyleSheet","Alert","KeyboardAvoidingView","Platform","useAuth","LoginScreen","_ref","navigation","_useState","_useState2","_slicedToArray","email","setEmail","_useState3","_useState4","password","setPassword","_useState5","_useState6","loading","setLoading","_useAuth","login","handleLogin","_ref2","_asyncToGenerator","alert","error","_error$response","_error$response$data","response","data","message","apply","arguments","createElement","behavior","OS","style","styles","container","__self","__source","fileName","_jsxFileName","lineNumber","columnNumber","formContainer","title","input","placeholder","value","onChangeText","keyboardType","autoCapitalize","secureTextEntry","button","onPress","disabled","buttonText","linkButton","navigate","linkText","create","flex","backgroundColor","justifyContent","paddingHorizontal","fontSize","fontWeight","marginBottom","textAlign","padding","borderRadius","alignItems","color","marginTop"],"sources":["/home/roadmvn/devops/Devops_starter/mobile-app/src/screens/auth/LoginScreen.js"],"sourcesContent":["import React, { useState } from 'react';\nimport {\n  View,\n  Text,\n  TextInput,\n  TouchableOpacity,\n  StyleSheet,\n  Alert,\n  KeyboardAvoidingView,\n  Platform\n} from 'react-native';\nimport { useAuth } from '../../contexts/AuthContext';\n\nexport default function LoginScreen({ navigation }) {\n  const [email, setEmail] = useState('');\n  const [password, setPassword] = useState('');\n  const [loading, setLoading] = useState(false);\n  const { login } = useAuth();\n\n  const handleLogin = async () => {\n    if (!email || !password) {\n      Alert.alert('Erreur', 'Veuillez remplir tous les champs');\n      return;\n    }\n\n    try {\n      setLoading(true);\n      await login(email, password);\n    } catch (error) {\n      Alert.alert(\n        'Erreur de connexion',\n        error.response?.data?.message || 'Une erreur est survenue'\n      );\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  return (\n    <KeyboardAvoidingView\n      behavior={Platform.OS === 'ios' ? 'padding' : 'height'}\n      style={styles.container}\n    >\n      <View style={styles.formContainer}>\n        <Text style={styles.title}>Connexion</Text>\n        \n        <TextInput\n          style={styles.input}\n          placeholder=\"Email\"\n          value={email}\n          onChangeText={setEmail}\n          keyboardType=\"email-address\"\n          autoCapitalize=\"none\"\n        />\n\n        <TextInput\n          style={styles.input}\n          placeholder=\"Mot de passe\"\n          value={password}\n          onChangeText={setPassword}\n          secureTextEntry\n        />\n\n        <TouchableOpacity\n          style={styles.button}\n          onPress={handleLogin}\n          disabled={loading}\n        >\n          <Text style={styles.buttonText}>\n            {loading ? 'Connexion...' : 'Se connecter'}\n          </Text>\n        </TouchableOpacity>\n\n        <TouchableOpacity\n          style={styles.linkButton}\n          onPress={() => navigation.navigate('Register')}\n        >\n          <Text style={styles.linkText}>\n            Pas encore de compte ? S'inscrire\n          </Text>\n        </TouchableOpacity>\n      </View>\n    </KeyboardAvoidingView>\n  );\n}\n\nconst styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    backgroundColor: '#fff'\n  },\n  formContainer: {\n    flex: 1,\n    justifyContent: 'center',\n    paddingHorizontal: 20\n  },\n  title: {\n    fontSize: 24,\n    fontWeight: 'bold',\n    marginBottom: 30,\n    textAlign: 'center'\n  },\n  input: {\n    backgroundColor: '#f5f5f5',\n    padding: 15,\n    borderRadius: 10,\n    marginBottom: 15\n  },\n  button: {\n    backgroundColor: '#10B981',\n    padding: 15,\n    borderRadius: 10,\n    alignItems: 'center'\n  },\n  buttonText: {\n    color: '#fff',\n    fontSize: 16,\n    fontWeight: 'bold'\n  },\n  linkButton: {\n    marginTop: 15,\n    alignItems: 'center'\n  },\n  linkText: {\n    color: '#10B981',\n    fontSize: 14\n  }\n});\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}